(()=>{"use strict";var e={d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{s3:()=>re,ef:()=>pe,eA:()=>ge,Gg:()=>ue,Lg:()=>me});const t=document.querySelector(".project-form"),n=document.getElementById("project-name"),s=document.querySelector(".project-submit-btn"),i=[];s.addEventListener("click",(e=>{t.checkValidity()?(function(){const e={name:n.value};i.push(e),ae(e),p()}(),ne(),e.preventDefault()):t.reportValidity()}));const c=document.querySelector(".content-heading"),l=document.getElementById("title"),o=document.getElementById("details"),a=document.getElementById("due-date"),d=document.getElementById("is-important"),r=document.querySelector(".task-form"),m=document.querySelector(".submit-btn"),u=[];function p(){localStorage.setItem("myTaskList",JSON.stringify(u)),localStorage.setItem("myProjectList",JSON.stringify(i))}m.addEventListener("click",(e=>{r.checkValidity()?(function(){const e=l.value,t=o.value,n=a.value,s=d.checked;let r="";i.forEach((e=>{c.textContent===e.name&&(r=e.name)}));const m=((e,t,n,s,i,c)=>({title:e,details:t,dueDate:n,isImportant:s,isComplete:!1,taskProject:c}))(e,t,n,s,0,r);u.push(m),oe(),p()}(),te(),e.preventDefault()):r.reportValidity()}));const g=document.querySelector(".edit-task-form"),y=document.getElementById("edit-title"),f=document.getElementById("edit-details"),h=document.getElementById("edit-due-date"),C=document.getElementById("edit-is-important"),k=document.querySelector(".edit-submit-btn"),v=document.querySelector(".edit-cancel-btn"),S=[];function E(e){e||(e=window.event),e.stopPropagation()}function L(e,t,n,s){if(E(),"task-incomplete"===e.classList.value){e.classList.toggle("task-incomplete"),t.removeChild(t.lastChild);const i=document.createElement("img");i.src="./images/circle-filled.svg",t.appendChild(i),n.style.setProperty("text-decoration","line-through"),s.isComplete=!0,S.push(u.splice(u.indexOf(s),1)[0]),oe()}else{e.classList.toggle("task-incomplete"),t.removeChild(t.lastChild);const i=document.createElement("img");i.src="./images/circle-unfilled.svg",t.appendChild(i),n.style.setProperty("text-decoration","none"),s.isComplete=!1,S.splice(S.indexOf(s),1),oe()}localStorage.setItem("isCompleteArray",JSON.stringify(S))}function b(e,t){if(E(),"priority-status priority"===e.classList.value){e.classList.toggle("priority"),e.classList.toggle("no-priority"),e.removeChild(e.lastChild);const n=document.createElement("img");n.src="./images/star-unfilled.svg",e.appendChild(n),t.isImportant=!1}else if("priority-status no-priority"===e.classList.value){e.classList.toggle("no-priority"),e.classList.toggle("priority"),e.removeChild(e.lastChild);const n=document.createElement("img");n.src="./images/star-filled.svg",e.appendChild(n),t.isImportant=!0}S?(localStorage.setItem("uncompletedTaskList",JSON.stringify(u)),localStorage.setItem("isCompleteArray",JSON.stringify(S))):localStorage.setItem("myTaskList",JSON.stringify(u))}function I(){document.querySelector(".editing-task").classList.toggle("editing-task")}function x(){g.style.display="none",y.value="",f.value="",h.value="",C.checked=!1,I()}function j(e){y.value=e.title,h.value=e.dueDate,C.checked=e.isImportant,e.details?f.value=e.details:f.value=""}function O(e,t,n){E(),"none"===g.style.display?(t.classList.toggle("editing-task"),g.style.display="block",y.focus(),n.insertBefore(g,t),j(e),y.focus()):(I(),t.classList.toggle("editing-task"),n.insertBefore(g,t),j(e),y.focus()),k.onclick=function(t){g.checkValidity()?(e.title=y.value,e.details=f.value,e.dueDate=h.value,e.isImportant=C.checked,x(),oe(),S?(localStorage.setItem("uncompletedTaskList",JSON.stringify(u)),localStorage.setItem("isCompleteArray",JSON.stringify(S))):localStorage.setItem("myTaskList",JSON.stringify(u)),t.preventDefault()):g.reportValidity()},v.onclick=x}function D(e,t){E(),u.splice(e,1),S.includes(t)&&S.splice(S.indexOf(t),1),oe(),S?(localStorage.setItem("uncompletedTaskList",JSON.stringify(u)),localStorage.setItem("isCompleteArray",JSON.stringify(S))):localStorage.setItem("myTaskList",JSON.stringify(u))}const q=document.querySelector(".edit-project-form"),N=document.querySelector(".edit-project-name-input"),J=document.querySelector(".edit-project-submit-btn"),B=document.querySelector(".edit-project-cancel-btn");function T(){document.querySelector(".editing-project").classList.toggle("editing-project")}function w(){q.style.display="none",N.value="",T()}function P(e){N.value=e.name}function $(e,t,n,s,c){E(),""===q.style.display||"none"===q.style.display?(t.classList.toggle("editing-project"),q.style.display="block",n.insertBefore(q,t),P(e),N.focus()):(T(),t.classList.toggle("editing-project"),n.insertBefore(q,t),P(e),N.focus()),J.onclick=function(t){q.checkValidity()?(e.name===c.textContent&&(c.textContent=N.value),e.name=N.value,s.textContent=e.name,console.log(e.name),w(),localStorage.setItem("myProjectList",JSON.stringify(i)),t.preventDefault()):q.reportValidity()},B.onclick=w}function A(e,t,n,s){E();for(let t=u.length-1;t>=0;t--){const n=u[t];n.taskProject===e.name&&(u.splice(u.indexOf(n),1),oe())}for(let t=S.length-1;t>=0;t--){const n=S[t];n.taskProject===e.name&&(S.splice(S.indexOf(n),1),localStorage.setItem("isCompleteArray",JSON.stringify(S)),oe())}e.name===s.textContent&&de(),i.splice(i.indexOf(e),1),n.removeChild(t),localStorage.setItem("myProjectList",JSON.stringify(i))}const V=document.querySelector(".main-content"),F=document.querySelector(".content-heading"),M=document.querySelector(".todo-container"),W=document.querySelector(".task-form"),Y=document.querySelector(".edit-task-form"),G=document.querySelector(".cancel-btn"),z=document.querySelector(".project-form"),H=document.querySelector(".project-btn"),K=document.querySelector(".project-cancel-btn"),Q=document.querySelector(".project-links"),R=document.getElementById("title"),U=document.getElementById("project-name"),X=document.querySelector(".menu-btn"),Z=document.querySelector(".sidebar");function _(e){ge.forEach((e=>{e.classList.remove("selected")})),e.classList.toggle("selected")}function ee(){W.style.display="block",R.focus()}function te(){W.style.display="none",l.value="",o.value="",a.value="",d.checked=!1}function ne(){z.style.display="none",n.value=""}function se(){const e=document.createElement("button");e.classList.add("task-btn");const t=document.createElement("img");t.src="./images-pics/plus.svg";const n=document.createElement("div");n.textContent="Add Task",e.onclick=ee,e.appendChild(t),e.appendChild(n),V.appendChild(e)}function ie(){"task-btn"===V.lastChild.className&&V.removeChild(V.lastChild)}function ce(e,t){if("details-display"!=t.lastChild.className&&e.details){const n=document.createElement("div");n.classList.add("details-display"),n.textContent=e.details,t.appendChild(n)}else"details-display"===t.lastChild.className&&e.details&&t.removeChild(t.lastChild)}function le(e){const t=document.createElement("div");t.classList.add("task-div"),M.appendChild(t);const n=document.createElement("div");n.classList.add("task-main"),t.appendChild(n);const s=document.createElement("div");s.classList.add("task-left"),n.appendChild(s);const i=document.createElement("div");i.classList.add("task-status"),s.appendChild(i);const c=document.createElement("img");c.src="./images-pics/circle-unfilled.svg";const l=document.createElement("img");l.src="./images-pics/circle-filled.svg";const o=document.createElement("div");if(o.classList.add("title-display"),o.textContent=e.title,s.appendChild(o),e.isComplete?(i.appendChild(l),o.style.setProperty("text-decoration","line-through")):(i.appendChild(c),c.classList.add("task-incomplete")),i.onclick=L.bind(this,c,i,o,e),e.details){const e=document.createElement("img");e.src="./images-pics/expand-task.svg",s.appendChild(e),e.title="Click task to show details",e.classList.add("expand-task")}const a=document.createElement("div");a.classList.add("task-right"),n.appendChild(a);const d=document.createElement("div");a.appendChild(d),e.dueDate?d.textContent=e.dueDate:d.textContent="No Due Date";const r=document.createElement("button");r.classList.add("priority-status"),a.appendChild(r);const m=document.createElement("img");m.src="./images-pics/star-unfilled.svg";const p=document.createElement("img");p.src="./images-pics/star-filled.svg",e.isImportant?(r.appendChild(p),r.classList.add("priority")):(r.appendChild(m),r.classList.add("no-priority")),r.onclick=b.bind(this,r,e);const g=document.createElement("button");g.classList.add("task-edit-btn"),a.appendChild(g);const y=document.createElement("img");y.src="./images-pics/edit.svg",g.appendChild(y),g.onclick=O.bind(this,e,t,M);const f=document.createElement("button");f.classList.add("task-delete-btn"),a.appendChild(f);const h=document.createElement("img");h.src="./images-pics/trash.svg",f.appendChild(h);const C=u.indexOf(e);f.onclick=D.bind(this,C,e),t.onclick=ce.bind(this,e,t)}function oe(){!function(){for(;M.firstChild&&"edit-task-form"!=M.firstChild.className;)M.removeChild(M.firstChild);for(;M.lastChild&&"edit-task-form"!=M.lastChild.className;)M.removeChild(M.lastChild);Y.style.display="none"}();for(let e=u.length-1;e>=0;e--){const t=u[e];t.isComplete&&u.splice(u.indexOf(t),1)}u.sort(((e,t)=>{let n,s;return n=e.dueDate?new Date(e.dueDate):new Date("100000"),s=t.dueDate?new Date(t.dueDate):new Date("100000"),n<s?-1:n>s?1:0})),localStorage.setItem("uncompletedTaskList",JSON.stringify(u)),u.push.apply(u,S);const e=new Date,t=e.getDate(),n=e.getMonth()+1,s=e.getFullYear();let i;if(i=n<10&&t>10?`${s}-0${n}-${t}`:n<10&&t<10?`${s}-0${n}-0${t}`:n>10&&t<10?`${s}-${n}-0${t}`:`${s}-${n}-${t}`,"All Tasks"===F.textContent)u.forEach((e=>{le(e)}));else if("Today"===F.textContent){u.filter((e=>e.dueDate===i)).forEach((e=>{le(e)}))}else if("This Week"===F.textContent){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate()+7);u.filter((n=>{const s=n.dueDate.split("-"),c=s[0],l=parseInt(s[1],10)-1,o=s[2],a=new Date(c,l,o);return a>=e&&a<=t||n.dueDate===i})).forEach((e=>{le(e)}))}else if("Important"===F.textContent){u.filter((e=>e.isImportant)).forEach((e=>{le(e)}))}else{u.filter((e=>e.taskProject===F.textContent)).forEach((e=>{le(e)}))}}function ae(e){const t=document.createElement("div");t.classList.add("project-link"),Q.appendChild(t);const n=document.createElement("div");n.classList.add("project-name-display"),n.textContent=e.name,t.appendChild(n);const s=document.createElement("div");s.classList.add("project-link-btns"),t.appendChild(s);const i=document.createElement("button");i.classList.add("project-edit-btn"),s.appendChild(i);const c=document.createElement("img");c.src="./images-pics/edit.svg",i.appendChild(c);const l=document.createElement("button");l.classList.add("project-delete-btn"),s.appendChild(l);const o=document.createElement("img");o.src="./images-pics/trash.svg",l.appendChild(o),ge.push(t),t.onclick=function(){ie(),se(),_(t),F.textContent=t.firstChild.textContent,oe(),te()},i.onclick=$.bind(this,e,t,Q,n,F),l.onclick=A.bind(this,e,t,Q,F)}function de(){ie(),se(),_(re),F.textContent="All Tasks",oe(),te()}G.onclick=te,H.onclick=function(){z.style.display="block",U.focus()},K.onclick=ne,X.addEventListener("click",(()=>{"sidebar"===Z.classList.value?Z.classList.add("show-sidebar"):Z.classList.remove("show-sidebar")}));const re=document.getElementById("all-tasks"),me=document.getElementById("today"),ue=document.getElementById("this-week"),pe=document.getElementById("important"),ge=[re,me,ue,pe];!function(){const e=JSON.parse(localStorage.getItem("myTaskList"));u.length=0,u.push.apply(u,e),S&&(function(){const e=JSON.parse(localStorage.getItem("isCompleteArray"));S.length=0,S.push.apply(S,e)}(),function(){const e=JSON.parse(localStorage.getItem("uncompletedTaskList"));u.length=0,u.push.apply(u,e)}());const t=JSON.parse(localStorage.getItem("myProjectList"));i.length=0,i.push.apply(i,t)}(),i.forEach((e=>{ae(e)})),de(),re.addEventListener("click",de),me.addEventListener("click",(function(){ie(),_(me),F.textContent="Today",oe(),te()})),ue.addEventListener("click",(function(){ie(),_(ue),F.textContent="This Week",oe(),te()})),pe.addEventListener("click",(function(){ie(),_(pe),F.textContent="Important",oe(),te()}))})();